{"version":3,"sources":["App.module.css","Header/HeaderImage.module.css","Header/HeaderBlock.module.css","AppWrapper/AppWrapper.module.css","AppWrapper/Content/Content.module.css","AppWrapper/Content/Messages/Messages.module.css","AppWrapper/Content/Messages/Dialogs.module.css","AppWrapper/Content/Messages/MessFooter.module.css","AppWrapper/Navbar/Navbar.module.css","api/api.js","reportWebVitals.js","Header/HeaderImage.jsx","Header/HeaderBlock.jsx","Header/Header.jsx","Header/HeaderContainer.jsx","AppWrapper/Content/Messages/Dialog.jsx","AppWrapper/Content/Messages/Dialogs.jsx","AppWrapper/Content/Messages/Mess.jsx","AppWrapper/Content/Messages/MessFooter.jsx","AppWrapper/Content/Messages/Messages.jsx","images/ryjik.jpg","images/vasiliy.jpg","images/kisa.jpg","images/cherniy.jpg","images/barsik.jpg","images/matroskin.jpg","images/kosmokot.jpg","Redux/messages-reducer.js","hoc/withAuthRedirect.jsx","AppWrapper/Content/Messages/MessagesContainer.jsx","images/camera.jpg","AppWrapper/Content/Users/User.jsx","AppWrapper/Content/Users/Users.jsx","AppWrapper/Content/Users/UsersContainer.jsx","Redux/usersapi-reducer.js","AppWrapper/Content/Users/UsersAPI.jsx","images/loader.svg","AppWrapper/Content/Users/Preloader.jsx","Redux/users-selectors.js","AppWrapper/Content/Users/UsersAPIContainer.jsx","AppWrapper/Content/Profile/ProfileCard/ProfileCard.jsx","AppWrapper/Content/Profile/ProfileInfo/ProfileData.jsx","Validation/profileDataFormSchema.js","AppWrapper/Content/Profile/ProfileInfo/ProfileDataForm.jsx","AppWrapper/Content/Profile/ProfileInfo/ProfileInfo.jsx","AppWrapper/Content/Profile/Friends/Friends.jsx","AppWrapper/Content/Profile/Subscriptions/Subscriptions.jsx","AppWrapper/Content/Profile/Photos/Photos.jsx","AppWrapper/Content/Profile/Posts/Post.jsx","AppWrapper/Content/Profile/Posts/Posts.jsx","AppWrapper/Content/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","AppWrapper/Content/Profile/Profile.jsx","Redux/content-reducer.js","AppWrapper/Content/Profile/ProfileContainer.jsx","hoc/withSuspense.js","AppWrapper/Content/Content.jsx","AppWrapper/Navbar/NavbarBlock.jsx","AppWrapper/Navbar/Navbar.jsx","AppWrapper/AppWrapper.jsx","Redux/app-reducer.js","Redux/users-reducer.js","Redux/redux-store.js","App.js","index.js","AppWrapper/Content/Users/User.module.css","AppWrapper/Content/Messages/Mess.module.css","AppWrapper/Content/Profile/ProfileInfo/ProfileInfo.module.css","Redux/auth-reducer.js","Header/Header.module.css","AppWrapper/Content/Messages/Dialog.module.css","AppWrapper/Content/Profile/ProfileCard/ProfileCard.module.css","AppWrapper/Content/Profile/Photos/Photos.module.css","AppWrapper/Content/Profile/Posts/Post.module.css","AppWrapper/Content/Users/Users.module.css","AppWrapper/Content/Profile/Friends/Friends.module.css","AppWrapper/Content/Profile/Posts/Posts.module.css","AppWrapper/Navbar/NavbarBlock.module.css","AppWrapper/Content/Profile/Profile.module.css","AppWrapper/Content/Profile/Subscriptions/Subscriptions.module.css"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","height","get","Math","ceil","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photo","formData","FormData","append","saveProfile","profile","authAPI","me","login","password","rememberMe","captcha","email","logout","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","HeaderImage","className","headerStyle","headerImage","alt","src","HeaderBlock","props","HeaderStyle","block","value","Header","header","headerContent","loginBlock","isAuth","onClick","button","to","HeaderComponent","this","React","Component","connect","state","auth","Dialog","changeDialog","dialog","DialogStyle","div","img","name","text","lastMes","time","lastMesTime","Dialogs","friendsDialogs","oldFriendsDialogs","id","friend","dialogs","last","random","push","toString","showDialogs","DialogsStyle","messages","Mess","map","message","MessStyle","myMes","friendMes","onLoad","window","scrollTo","wrapper","verticalDiv","MessFooter","initialValues","onSubmit","values","resetForm","addMess","MessFooterStyle","footer","type","Messages","MessagesStyle","UserStyle","attention","exact","path","render","myImg","WHAT_FRIEND_DIALOG_SHOW","SEND_MESSAGE","initialState","barsik","vasiliy","ryjik","chernyi","cherniy","kisa","matroskin","kosmokot","dialogsReducer","action","stateCopy","textMes","length","hours","Date","getHours","minutes","getMinutes","JSON","stringify","slice","mapStateToPropsForRedirect","compose","dispatch","addMessActionCreator","RedirectComponent","User","imageCamera","disabled","followingInProgress","some","e","followChanger","bind","followed","Users","users","user","UsersContainer","SET_USERS","SCROLL_USERS","HEIGHT_CHANGE","TOGGLE_IS_FETCHING","FOLLOW_UNFOLLOW_FLOW","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","toggleIsFetching","heightChange","scroll","followUnfollowFlow","toggleFollowingProgress","usersapiReducer","i","splice","UsersAPI","UsersStyle","photos","large","Preloader","loader","usersapi","getHeight","getIsFetching","getFollowingInProgress","UsersAPIComponent","requestUsers","addUsers","setTimeout","a","items","onscroll","pageYOffset","resultCode","ProfileCard","profileCardStyle","profileCard","profileImg","isMyProfile","placeholder","onChange","target","files","loadPhoto","input","ProfileData","contacts","index","key","ProfileInfoStyle","href","setEditMode","lookingForAJob","infoLabel","lookingForAJobDescription","aboutMe","profileDataFormSchema","Yup","shape","fullName","min","max","required","ProfileDataForm","useState","error","setError","errorMessage","setErrorMessage","website","facebook","vk","twitter","youtube","instagram","github","mainLink","setSubmitting","catch","arrayError","split","arrayError2","errorLocation","validateOnBlur","validationSchema","handleChange","handleBlur","errors","touched","infoError","info","onBlur","checkboxdiv","checkbox","checked","component","ProfileInfo","editMode","profileInfo","thisIsARealUser","date","city","Friends","friends","FriensStyle","friendsA","Subscriptions","SubscriptionsStyle","subscriptions","Photos","images","image","PhotosStyle","photosBar","Post","PostStyle","PostsForm","newPostText","publishPost","PostsStyle","Posts","posts","ProfileStatusWithHooks","setStatus","useEffect","undefined","changeStatus","statusDiv","currentTarget","autoFocus","label","Profile","profileUpdateError","preloaderIsActive","Arrusers","profileStyle","profileRealUser","PUBLISH_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","setUserProfile","savePhotoSuccess","getUserProfile","contentReducer","idintificator","round","unshift","ProfileContainer","match","params","floor","history","style","display","content","getState","Promise","reject","withRouter","withSuspense","Suspense","fallback","Login","lazy","News","Content","ContentStyle","MessagesContainer","UsersAPIContainer","NavbarBlock","NavbarBlockStyle","activeClassName","active","NavBar","navbarStyle","nav","AppWrapper","Wrapper","appWrapper","INITIALIZED_SUCCESS","initialized","appReducer","usersReducer","reducers","combineReducers","authReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","App","initializeApp","styles","HeaderContainer","AppContainer","getAuthUserData","MainApp","StrictMode","ReactDOM","document","getElementById","SET_USER_DATA","TOGGLE_INCORRECT","GET_CAPTCHA_URL","IncorrectEmailOrPassword","errorMessages","captchaUrl","setAuthUserData","toggleIncorrect","toggle","getCaptchaUrlSuccess","url"],"mappings":"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","file":"static/js/main.803c4069.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"App_div__16Az2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerImage\":\"HeaderImage_headerImage__1WeOr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"HeaderBlock_block__z4E4q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"AppWrapper_appWrapper__2R8c3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__2FfYP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Messages_div___e4aZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Dialogs_messages__39-TY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"MessFooter_footer__3FG4u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2fGkF\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:     {\r\n        \"API-KEY\": '8662a3f7-50ad-4ce4-9f62-0ea404b86465'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(height) {\r\n        return instance.get(`users?page=${Math.ceil(height / 2300) + 1}&count=20`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },  \r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n            return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n    },\r\n    savePhoto(photo) {\r\n        const formData = new FormData()\r\n        formData.append('', photo)\r\n        return instance.put(`profile/photo`, formData)\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(login, password, rememberMe, captcha) {\r\n        return instance.post('auth/login', {email:login, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import headerStyle from'./HeaderImage.module.css';\r\n\r\nconst HeaderImage = () => {\r\n    return (\r\n        <div className={headerStyle.headerImage}>\r\n            <img alt='' src='https://mostaql.hsoubcdn.com/uploads/201639-1469757735-Logo_Image_01.png' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HeaderImage;","import HeaderStyle from './HeaderBlock.module.css';\r\n\r\nconst HeaderBlock = (props) => {\r\n    return (\r\n        <div className={HeaderStyle.block}><span>{props.value}</span></div>\r\n    )\r\n}\r\n\r\nexport default HeaderBlock;\r\n\r\n","import headerStyle from './Header.module.css';\r\nimport HeaderImage from './HeaderImage.jsx';\r\nimport HeaderBlock from './HeaderBlock.jsx';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={headerStyle.header}>\r\n            <div className={headerStyle.headerContent}>\r\n                <HeaderImage />\r\n                <HeaderBlock value='Плеер' />\r\n                <HeaderBlock value='Файлы' />\r\n                <HeaderBlock value='Видео' />\r\n                <HeaderBlock value='Маркет' />\r\n                <div className={headerStyle.loginBlock}>\r\n                    {props.isAuth ?\r\n                        <div>\r\n                            <div >{props.login}</div>\r\n                            <button onClick={props.logout} className={headerStyle.button}>Выйти</button>\r\n                        </div> :\r\n                        <div className={headerStyle.login}>\r\n                            <NavLink to={'/login'}>Войти</NavLink>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport Header from './Header';\r\nimport { logout } from '../Redux/auth-reducer'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nclass HeaderComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout})(HeaderComponent);","import DialogStyle from './Dialog.module.css'\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst Dialog = (props) => {\r\n    let changeFriendDialog = () => {\r\n        props.changeDialog(props.dialog.to)\r\n    }\r\n    return (\r\n        <NavLink onClick={changeFriendDialog} to={'/messages/' + props.dialog.to}>\r\n            <div className={DialogStyle.div}>\r\n                <img className={DialogStyle.img} src={props.dialog.img} alt=''/>\r\n                <div className={DialogStyle.name}>{props.dialog.name}</div>\r\n                <div className={DialogStyle.text}>{props.dialog.lastMes}</div>\r\n                <div className={DialogStyle.time}>{props.dialog.lastMesTime}</div>\r\n            </div>\r\n        </NavLink >\r\n    )\r\n}\r\n\r\nexport default Dialog;","import DialogsStyle from './Dialogs.module.css'\r\nimport Dialog from './Dialog.jsx'\r\nimport React from 'react';\r\n\r\nconst Dialogs = (props) => {\r\n    let friendsDialogs = [];\r\n    let oldFriendsDialogs = [];\r\n    let id = 0;\r\n    for (let friend in props.dialogs) {\r\n        id++;\r\n        if (props.dialogs[friend].last) {\r\n            friendsDialogs[props.dialogs[friend].last] = <Dialog key={Math.random()} changeDialog={props.changeDialog} dialog={props.dialogs[friend]} />\r\n        } else {\r\n            oldFriendsDialogs.push(<Dialog key={id.toString()} dialog={props.dialogs[friend]} changeDialog={props.changeDialog} />)\r\n        }\r\n    }\r\n    let showDialogs = [...friendsDialogs, ...oldFriendsDialogs]\r\n    return (\r\n        <div className={DialogsStyle.messages}>\r\n            {showDialogs}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Dialogs;","import MessStyle from './Mess.module.css'\r\nimport React from 'react';\r\n\r\nconst Mess = (props) => {\r\n    let messages = []\r\n    messages = props.dialog.messages.map((message, id) => {\r\n        return (\r\n            <div key={id.toString()} className={message.id === 'my' ? MessStyle.myMes : MessStyle.friendMes}>\r\n                <div className={MessStyle.div}>\r\n                    <img className={MessStyle.img} alt='' src={message.id === 'my' ? 'https://social-network.samuraijs.com/activecontent/images/users/14853/user-small.jpg?v=7' : props.dialog.img} />\r\n                    <div className={MessStyle.text}>{message.text}</div>\r\n                    <div className={MessStyle.time}>{message.time}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n\r\n    let scroll = () => {\r\n        window.scrollTo(0, 99999);\r\n    }\r\n    return (\r\n        <div onLoad={scroll} className={MessStyle.wrapper}>\r\n            <div className={MessStyle.verticalDiv}></div>\r\n            <div className={MessStyle.messages}>\r\n                {messages}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Mess;","import MessFooterStyle from './MessFooter.module.css'\r\nimport React from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\n\r\nconst MessFooter = (props) => {\r\n    return (\r\n        <Formik initialValues={{ message: '' }}\r\n            onSubmit={(values, {resetForm}) => {\r\n                props.addMess(values.message)\r\n                resetForm()\r\n            }}\r\n        >\r\n            { () => (\r\n                <Form >\r\n                    <div className={MessFooterStyle.footer}>\r\n                        <Field name='message' />  \r\n                        <button type='submit' >Отправить</button>\r\n                    </div>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\n\r\nexport default MessFooter","import MessagesStyle from './Messages.module.css'\r\nimport Dialogs from './Dialogs.jsx'\r\nimport Mess from './Mess.jsx'\r\nimport MessFooter from './MessFooter.jsx'\r\nimport { Route } from 'react-router-dom';\r\nimport React from 'react';\r\nimport UserStyle from './../Users/User.module.css'\r\n\r\nconst Messages = (props) => {\r\n    return (\r\n        <div className={MessagesStyle.div}>\r\n            <div className={UserStyle.attention}>\r\n                Это не настоящие пользователи, лишь имитация, для демонстрации интерфейса\r\n            </div>\r\n            <Route exact path='/messages' render={() => <Dialogs dialogs={props.messages.dialogs} changeDialog={props.changeDialog} />} />\r\n            <Route path={`/messages/${props.messages.friend}`} render={() => <Mess dialog={props.messages.dialogs[props.messages.friend]} myImg={props.messages.myImg} />} />\r\n            <Route path={`/messages/${props.messages.friend}`} render={() => <MessFooter addMess={props.addMess} />} />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Messages;","export default __webpack_public_path__ + \"static/media/ryjik.be8c107c.jpg\";","export default __webpack_public_path__ + \"static/media/vasiliy.4f8ede10.jpg\";","export default __webpack_public_path__ + \"static/media/kisa.58e39b8d.jpg\";","export default __webpack_public_path__ + \"static/media/cherniy.44235573.jpg\";","export default __webpack_public_path__ + \"static/media/barsik.43d2aafb.jpg\";","export default __webpack_public_path__ + \"static/media/matroskin.02eae83a.jpg\";","export default __webpack_public_path__ + \"static/media/kosmokot.c1bd4341.jpg\";","import ryjik from './../images/ryjik.jpg'\r\nimport vasiliy from './../images/vasiliy.jpg'\r\nimport kisa from './../images/kisa.jpg'\r\nimport cherniy from './../images/cherniy.jpg'\r\nimport barsik from './../images/barsik.jpg'\r\nimport matroskin from './../images/matroskin.jpg'\r\nimport kosmokot from './../images/kosmokot.jpg'\r\n\r\nconst WHAT_FRIEND_DIALOG_SHOW = 'WHAT-FRIEND-DIALOG-SHOW'\r\nconst SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    myImg: 'https://pixelbox.ru/wp-content/uploads/2020/12/ava-vk-cats-90.jpg',\r\n    friend: 'all',\r\n    dialogs: {\r\n        barsik: {\r\n            messages: [\r\n                { id: 'my', time: '10:00', text: 'Текст Текст Текст Текст' },\r\n                { id: 'my', time: '19:00', text: 'Текст Текст' },\r\n                { id: 'fr', time: '18:00', text: 'Текст Текст Текст Текст' },\r\n                { id: 'fr', time: '17:00', text: 'Текст Текст Текст Текст' },\r\n                { id: 'my', time: '16:00', text: 'Текст' },\r\n            ],\r\n            name: 'Барсик',\r\n            to: 'barsik',\r\n            lastMes: '',\r\n            lastMesTime: '',\r\n            img: barsik,\r\n        },\r\n        vasiliy: {\r\n            messages: [],\r\n            name: 'Василий',\r\n            to: 'vasiliy',\r\n            lastMes: '',\r\n            img: vasiliy,\r\n        },\r\n        ryjik: {\r\n            messages: [],\r\n            name: 'Рыжик',\r\n            to: 'ryjik',\r\n            lastMes: '',\r\n            img: ryjik,\r\n        },\r\n        chernyi: {\r\n            messages: [],\r\n            name: 'Черный',\r\n            to: 'chernyi',\r\n            lastMes: '',\r\n            img: cherniy,\r\n        },\r\n        kisa: {\r\n            messages: [],\r\n            name: 'Киса',\r\n            to: 'kisa',\r\n            lastMes: '',\r\n            img: kisa,\r\n        },\r\n        matroskin: {\r\n            messages: [],\r\n            name: 'Матроскин',\r\n            to: 'matroskin',\r\n            lastMes: '',\r\n            img: matroskin,\r\n        },\r\n        kosmokot: {\r\n            messages: [],\r\n            name: 'Космокот',\r\n            to: 'kosmokot',\r\n            lastMes: '',\r\n            img: kosmokot,\r\n        },\r\n    },\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case WHAT_FRIEND_DIALOG_SHOW: {\r\n            return {\r\n                ...state,\r\n                dialogs: {\r\n                    ...state.dialogs\r\n                },\r\n                friend: action.friend\r\n            }\r\n        }\r\n\r\n        case SEND_MESSAGE: {\r\n            let stateCopy = {\r\n                ...state,\r\n                dialogs: {\r\n                    ...state.dialogs,\r\n                    [state.friend]: {\r\n                        ...state.dialogs[state.friend],\r\n                        messages: [...state.dialogs[state.friend].messages]\r\n                    }\r\n                }\r\n            }\r\n            for (let dialog in stateCopy.dialogs) {\r\n                stateCopy.dialogs[dialog].last++\r\n            }\r\n            let textMes = action.message\r\n            if (textMes.length) {\r\n                let hours = new Date().getHours()\r\n                let minutes = new Date().getMinutes()\r\n                minutes = JSON.stringify(minutes)\r\n                if (minutes.length < 2) minutes = '0' + minutes\r\n                stateCopy.dialogs[stateCopy.friend].messages = [...stateCopy.dialogs[stateCopy.friend].messages, { id: 'my', time: hours + ':' + minutes, text: textMes }]\r\n                stateCopy.dialogs[stateCopy.friend].last = 1;\r\n                if (textMes.length > 30) {\r\n                    textMes = textMes.slice(0, 30) + '...'\r\n                }\r\n                stateCopy.dialogs[stateCopy.friend].lastMes = textMes\r\n                stateCopy.dialogs[stateCopy.friend].lastMesTime = hours + ':' + minutes;\r\n            }\r\n            return stateCopy;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const whatFriendDialogActionCreator = (friend) => ({ type: WHAT_FRIEND_DIALOG_SHOW, friend })\r\nexport const addMessActionCreator = (message) => ({ type: SEND_MESSAGE, message })\r\n\r\nexport default dialogsReducer;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({ isAuth: state.auth.isAuth, })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import Messages from './Messages'\r\nimport { whatFriendDialogActionCreator, addMessActionCreator } from '../../../Redux/messages-reducer'\r\nimport {connect} from 'react-redux'\r\nimport { withAuthRedirect } from '../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        messages: state.messages\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        changeDialog: (dialog) => {\r\n            dispatch(whatFriendDialogActionCreator(dialog))\r\n        },\r\n        addMess: (message) => {\r\n            dispatch(addMessActionCreator(message))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Messages)\r\n","export default __webpack_public_path__ + \"static/media/camera.77e62bce.jpg\";","import UserStyle from './User.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\nimport React from 'react';\r\nimport imageCamera from '../../../images/camera.jpg'\r\n\r\n\r\n\r\nclass User extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className={UserStyle.wrapper}>\r\n                <div className={UserStyle.div}>\r\n                    <div className={UserStyle.img} >\r\n                        <NavLink to={`/profile/${this.props.id}`}>\r\n                            <img alt='' src={this.props.img ? this.props.img : imageCamera}></img>\r\n                        </NavLink>\r\n                    </div >\r\n                    <div className={UserStyle.name}>{this.props.name}</div>\r\n                    <div className={UserStyle.button}>\r\n                        <button disabled={this.props.followingInProgress && this.props.isAuth ? this.props.followingInProgress.some(e => e === this.props.id) : true}\r\n                            onClick={this.props.followChanger && this.props.followChanger.bind(null ,this.props.id, this.props.followed)}>\r\n                            {this.props.followed ? 'Отписаться' : 'Подписаться'}\r\n                        </button>\r\n                    </div>\r\n                </div >\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default User","import User from './User'\r\nimport React from 'react';\r\nimport UserStyle from './User.module.css'\r\n\r\nclass Users extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className={UserStyle.attention}>\r\n                    Это не настоящие пользователи, лишь имитация, для демонстрации интерфейса\r\n                </div>\r\n                {this.props.users.map((user, id) => <User key={id.toString()} name={user.name} img={user.img} id={user.id} />)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Users","import {connect} from 'react-redux'\r\nimport Users from './Users'\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.users.users,\r\n    }\r\n}\r\n\r\n\r\nlet UsersContainer = connect(mapStateToProps)(Users)\r\n\r\nexport default UsersContainer","import { usersAPI } from '../api/api';\r\n\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SCROLL_USERS = 'users/SCROLL_USERS'\r\nconst HEIGHT_CHANGE = 'users/HEIGHT_CHANGE'\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING'\r\nconst FOLLOW_UNFOLLOW_FLOW= 'users/FOLLOW_UNFOLLOW_FLOW'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    height: 1000,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\n\r\nconst usersapiReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SCROLL_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...state.users, ...action.users]\r\n            }\r\n        case HEIGHT_CHANGE: {\r\n            if (action.scroll) {\r\n                return {\r\n                    ...state,\r\n                    height: (state.height + 2300)\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    height: 1000\r\n                }\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: !state.isFetching\r\n            }\r\n        case FOLLOW_UNFOLLOW_FLOW: {\r\n            let stateCopy = {\r\n                ...state,\r\n                users: [...state.users],\r\n            }\r\n            for (let i = 0; i < stateCopy.users.length; i++) {\r\n                if (stateCopy.users[i].id === action.id) {\r\n                    stateCopy.users[i].followed = action.action\r\n                    break\r\n                }\r\n            }\r\n            return stateCopy\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            let stateCopy = {\r\n                ...state,\r\n                followingInProgress: [...state.followingInProgress]\r\n            }\r\n            if (stateCopy.followingInProgress.length === 0) {\r\n                stateCopy.followingInProgress.push(action.id)\r\n            } else {\r\n                for (let i = 0; i < stateCopy.followingInProgress.length; i++) {\r\n                    if (stateCopy.followingInProgress[i] === action.id) {\r\n                        stateCopy.followingInProgress.splice(i, 1)\r\n                        break\r\n                    }\r\n                    if (i === stateCopy.followingInProgress.length - 1) {\r\n                        stateCopy.followingInProgress.push(action.id)\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n            return stateCopy\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const toggleIsFetching = () => ({ type: TOGGLE_IS_FETCHING })\r\nconst setUsers = (users) => ({ type: SET_USERS, users })\r\nconst scrollUsers = (users) => ({ type: SCROLL_USERS, users })\r\nconst heightChange = (scroll) => ({ type: HEIGHT_CHANGE, scroll })\r\nconst followUnfollowFlow = (id, action) => ({ type: FOLLOW_UNFOLLOW_FLOW, id, action })\r\nconst toggleFollowingProgress = (id) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, id })\r\n\r\nexport const requestUsers = () => {\r\n    return (dispatch) => {\r\n        dispatch(heightChange(false))\r\n        dispatch(toggleIsFetching())\r\n        setTimeout(async () => {\r\n            let data = await usersAPI.getUsers()\r\n            dispatch(setUsers(data.items))\r\n            dispatch(toggleIsFetching())\r\n        }, 500)\r\n    }\r\n}\r\n\r\nexport const addUsers = (height) => {\r\n    return (dispatch) => {\r\n        window.onscroll = scroller.bind(null, height);\r\n        function scroller(height) {\r\n            if (window.pageYOffset > height) {\r\n                dispatch(heightChange(true));\r\n                dispatch(toggleIsFetching())\r\n                setTimeout(async () => {\r\n                    let data = await usersAPI.getUsers(height)\r\n                    dispatch(scrollUsers(data.items))\r\n                    dispatch(toggleIsFetching())\r\n                }, 500)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const followChanger = (id, followed) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(id))\r\n        setTimeout(async () => {\r\n            try {\r\n                let response\r\n                let action\r\n                if (!followed) {\r\n                    response = await usersAPI.follow(id)\r\n                    action = true\r\n                } else {\r\n                    response = await usersAPI.unfollow(id)\r\n                    action = false\r\n                }\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(followUnfollowFlow(id, action))\r\n                }\r\n                \r\n            } finally {\r\n                dispatch(toggleFollowingProgress(id))\r\n            }\r\n        }, 500);\r\n    }\r\n}\r\n\r\nexport default usersapiReducer;","import UsersStyle from './Users.module.css'\r\nimport User from './User'\r\n\r\nconst UsersAPI = (props) => {\r\n    return (\r\n        <div className={UsersStyle.users} >\r\n            { props.users.map((user, id) => <User \r\n            key={id.toString()}\r\n            name={user.name}\r\n            img={user.photos.large}\r\n            id={user.id} \r\n            followed={user.followed}\r\n            followingInProgress={props.followingInProgress}\r\n            followChanger={props.followChanger}\r\n            isAuth={props.isAuth}\r\n            />)}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default UsersAPI","export default __webpack_public_path__ + \"static/media/loader.34fd5549.svg\";","import loader from '../../../images/loader.svg'\r\nimport UsersStyle from './Users.module.css'\r\nimport React from 'react';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div className={UsersStyle.loader}>\r\n            {props.isFetching ? <img alt='' src={loader} /> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader","export const getUsers = (state) => {\r\n    return state.usersapi.users\r\n}\r\n\r\nexport const getHeight = (state) => {\r\n    return state.usersapi.height\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersapi.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersapi.followingInProgress\r\n}","import { connect } from 'react-redux'\r\nimport { addUsers, followChanger, requestUsers} from '../../../Redux/usersapi-reducer'\r\nimport UsersAPI from './UsersAPI'\r\nimport React from 'react';\r\nimport Preloader from './Preloader';\r\nimport { getFollowingInProgress, getHeight, getIsFetching, getUsers } from '../../../Redux/users-selectors';\r\n\r\n\r\n\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.props.addUsers(this.props.height)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <UsersAPI \r\n                users={this.props.users} \r\n                followingInProgress={this.props.followingInProgress}\r\n                followChanger={this.props.followChanger}\r\n                isAuth={this.props.isAuth}/>\r\n                <Preloader isFetching={this.props.isFetching} />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        height: getHeight(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {requestUsers, addUsers, followChanger})(UsersAPIComponent)\r\n\r\n","import profileCardStyle from './ProfileCard.module.css'\r\nimport React from 'react';\r\nimport imageCamera from '../../../../images/camera.jpg'\r\n\r\n\r\n\r\nconst ProfileCard = (props) => {\r\n    const onMainPhotoSelected = (e) => {\r\n        if(e.target.files.length) {\r\n            props.loadPhoto(e.target.files[0])       \r\n        }\r\n    }\r\n    return (\r\n        <div className={`${profileCardStyle.profileCard} ${profileCardStyle.div}`}>\r\n            <div className={profileCardStyle.profileImg}>\r\n                <img alt='' className={profileCardStyle.img} src={props.img ? props.img : imageCamera } />\r\n            </div>\r\n            {props.isAuth && props.isMyProfile &&\r\n            <div>\r\n                <input type='file' placeholder='s' onChange={onMainPhotoSelected} className={profileCardStyle.input}></input>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileCard;","import ProfileInfoStyle from './ProfileInfo.module.css'\r\n\r\nconst ProfileData = (props) => {\r\n    let contacts = []\r\n    let index = 0\r\n    if (props.profile) {\r\n        for (let key in props.profile.contacts) {\r\n            index++\r\n            if (props.profile.contacts[key]) {\r\n                contacts.push(<div className={ProfileInfoStyle.contacts} key={index}><a href={'https://' + props.profile.contacts[key]}>{key}</a>{ }</div>)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            {props.isMyProfile && <div><button onClick={props.setEditMode} className={ProfileInfoStyle.button}>редактировать данные</button></div>}\r\n\r\n            {props.profile.lookingForAJob &&\r\n                <div>\r\n                    <div className={ProfileInfoStyle.infoLabel}>\r\n                        Ищу работу\r\n                    </div>\r\n                </div>}\r\n            {props.profile.lookingForAJobDescription &&\r\n                <div className={ProfileInfoStyle.infoLabel}>\r\n                    Навыки: {props.profile.lookingForAJobDescription}\r\n                </div>\r\n            }\r\n            {props.profile.aboutMe &&\r\n                <div className={ProfileInfoStyle.infoLabel}>\r\n                    Обо мне: {props.profile.aboutMe}\r\n                </div>}\r\n            {contacts}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileData","import * as Yup from \"yup\";\r\n\r\nconst profileDataFormSchema = Yup.object().shape({\r\n  fullName: Yup.string()\r\n    .min(2, \"Имя не может быть короче 2 символов!\")\r\n    .max(30, \"Имя не может быть длиньше 30 символов!\")\r\n    .required(\"Обязательное поле!\"),\r\n  lookingForAJobDescription: Yup.string()\r\n    .max(100, \"Не больше 100 символов!\")\r\n    .required(\"Обязательное поле!\"),\r\n  aboutMe: Yup.string()\r\n    .max(100, \"Не больше 100 символов!\")\r\n    .required(\"Обязательное поле!\")\r\n});\r\nexport default profileDataFormSchema;","import { Formik, Form, Field } from 'formik';\r\nimport { useState } from 'react';\r\nimport profileDataFormSchema from '../../../../Validation/profileDataFormSchema';\r\nimport ProfileInfoStyle from './ProfileInfo.module.css'\r\n\r\nconst ProfileDataForm = (props) => {\r\n    let profile = props.profile\r\n    let [error, setError] = useState(false)\r\n    let [errorMessage, setErrorMessage] = useState('')\r\n    return (\r\n        <Formik initialValues={{\r\n            lookingForAJob: profile.lookingForAJob || '' , lookingForAJobDescription: profile.lookingForAJobDescription || '',\r\n            aboutMe: profile.aboutMe || '', fullName: profile.fullName || '',\r\n            contacts: {\r\n                website: profile.contacts.website || '', facebook: profile.contacts.facebook || '', vk: profile.contacts.vk || '', \r\n                twitter: profile.contacts.twitter || '', youtube: profile.contacts.youtube || '', instagram: profile.contacts.instagram || '', \r\n                github: profile.contacts.github || '', mainLink: profile.contacts.mainLink || '',\r\n            }\r\n        }}\r\n            onSubmit={(values, { setSubmitting }) =>  {\r\n                setSubmitting(false);\r\n                props.saveProfile(values).then( () => {\r\n                    props.setEditMode()\r\n                    setError(false)\r\n                }).catch( (e) => {\r\n                    debugger\r\n                    let arrayError = e.split('>')\r\n                    let arrayError2 = arrayError[0].split('(')\r\n                    let errorLocation = arrayError[1].slice(0, arrayError[1].length - 1)\r\n                    let error = arrayError2[0]\r\n                    \r\n                    setErrorMessage( `${error} in ${errorLocation}`)\r\n                    \r\n                    setError(true)\r\n                })\r\n            }}\r\n        validateOnBlur\r\n        validationSchema={profileDataFormSchema}\r\n        >\r\n\r\n            {({ handleChange, handleBlur, values, errors, touched }) => (\r\n                <Form>\r\n                    <div>\r\n                        <div className={touched.fullName && errors.fullName ? ProfileInfoStyle.infoError : ProfileInfoStyle.info }>\r\n                            <Field placeholder='Полное имя' name='fullName' onChange={handleChange} onBlur={handleBlur} value={values.fullName} />\r\n                            {touched.fullName && errors.fullName && <label className={ProfileInfoStyle.error}>{errors.fullName}</label>}\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.checkboxdiv}>\r\n                            <Field className={ProfileInfoStyle.checkbox} type='checkBox' name='lookingForAJob' onChange={handleChange} onBlur={handleBlur} checked={values.lookingForAJob} /> Ищу работу\r\n                        </div>\r\n                        <div className={touched.lookingForAJobDescription && errors.lookingForAJobDescription ? ProfileInfoStyle.infoError : ProfileInfoStyle.info }>\r\n                            <Field component={'textarea'} name='lookingForAJobDescription' onChange={handleChange} onBlur={handleBlur}\r\n                                value={values.lookingForAJobDescription}\r\n                                placeholder='навыки' />\r\n                                {touched.lookingForAJobDescription && errors.lookingForAJobDescription && <label className={ProfileInfoStyle.error}>{errors.lookingForAJobDescription}</label>}\r\n                        </div>\r\n                        <div className={touched.aboutMe && errors.aboutMe ? ProfileInfoStyle.infoError : ProfileInfoStyle.info}>\r\n                            <Field component={'textarea'} name='aboutMe' onChange={handleChange} onBlur={handleBlur}\r\n                                value={values.aboutMe}\r\n                                placeholder='Расскажите о себе' />\r\n                                {touched.aboutMe && errors.aboutMe && <label className={ProfileInfoStyle.error}>{errors.aboutMe}</label>}\r\n                        </div>\r\n                        <div>\r\n                        Контакты\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.facebook' placeholder='facebook' onChange={handleChange} onBlur={handleBlur} value={values.contacts.facebook} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.website' placeholder='website' onChange={handleChange} onBlur={handleBlur} value={values.contacts.website} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.vk' placeholder='vk' onChange={handleChange} onBlur={handleBlur} value={values.contacts.vk} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.twitter' placeholder='twitter' onChange={handleChange} onBlur={handleBlur} value={values.contacts.twitter} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.instagram' placeholder='instagram' onChange={handleChange} onBlur={handleBlur} value={values.contacts.instagram} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.youtube' placeholder='youtube' onChange={handleChange} onBlur={handleBlur} value={values.contacts.youtube} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.github' placeholder='github' onChange={handleChange} onBlur={handleBlur} value={values.contacts.github} />\r\n                        </div>\r\n                        <div className={ProfileInfoStyle.info}>\r\n                            <Field name='contacts.mainLink' placeholder='mainLink' onChange={handleChange} onBlur={handleBlur} value={values.contacts.mainLink} />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <button type={'submit'} className={ProfileInfoStyle.button}>Сохранить</button><label className={ProfileInfoStyle.error}>{error && 'Ошибка: ' + errorMessage }</label>\r\n                    </div>\r\n                    </div>\r\n\r\n\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default ProfileDataForm","import ProfileInfoStyle from './ProfileInfo.module.css'\r\nimport React, { useState } from 'react';\r\nimport ProfileData from './ProfileData';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\nconst ProfileInfo = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    if (!props.isMyProfile) {\r\n        if (editMode) setEditMode(false)\r\n    }\r\n    return (\r\n        <div className={`${ProfileInfoStyle.profileInfo} ${ProfileInfoStyle.div}`}>\r\n            <div className={ProfileInfoStyle.name}>{props.profileInfo ? props.profileInfo.name : props.profile.fullName}</div>\r\n            {props.thisIsARealUser ?\r\n                <div>\r\n                    {editMode ?\r\n                        <ProfileDataForm {...props} setEditMode={() => setEditMode(false)}/> \r\n                        :\r\n                        <ProfileData {...props} setEditMode={() => setEditMode(true)}/>\r\n                    }\r\n                </div> \r\n                :\r\n                <div>\r\n                    <div className={ProfileInfoStyle.info}>Дата рождения: {props.profileInfo ? props.profileInfo.date : 'Не указана'}</div>\r\n                    <div className={ProfileInfoStyle.info}>Город: {props.profileInfo ? props.profileInfo.city : 'Не указан'}</div>\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import FriensStyle from './Friends.module.css'\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Friends = (props) => {\r\n    let friends = []\r\n    let id = 0\r\n    for (let friend of props.friends.friends) {\r\n        id++\r\n        friends.push(\r\n            <NavLink key={id.toString()} to={`/profile/${friend.id}`} id={friend.id}>\r\n                <div className={FriensStyle.div}>\r\n                    <img alt='' src={friend.img}></img>\r\n                    <div>{friend.name}</div>\r\n                </div>\r\n            </NavLink>\r\n        )\r\n    }\r\n    return (\r\n        <div className={FriensStyle.friends}>\r\n            <span className={FriensStyle.friendsA}>Друзья</span>\r\n            {friends}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import SubscriptionsStyle from './Subscriptions.module.css'\r\nimport React from 'react';\r\n\r\nconst Subscriptions = () => {\r\n    return (\r\n        <div className={`${SubscriptionsStyle.subscriptions} ${SubscriptionsStyle.div}`}><span>Подписки</span></div>\r\n    )\r\n}\r\n\r\nexport default Subscriptions;","import PhotosStyle from './Photos.module.css'\r\nimport React from 'react';\r\n\r\nconst Photos = (props) => {\r\n    let images = []\r\n    let id = 0\r\n    for (let image of props.photos.images) {\r\n        id++\r\n        images.push(<div key={id.toString()} className={PhotosStyle.photo}><img alt='' src={image}/></div>)\r\n    }\r\n    return (\r\n        <div className={`${PhotosStyle.photos} ${PhotosStyle.div}`}>\r\n            <span>Мои Фотографии</span>\r\n            <div className={PhotosStyle.photosBar}>\r\n               {images}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Photos;","import PostStyle from './Post.module.css'\r\nimport React from 'react';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={PostStyle.post}>\r\n            <div className={PostStyle.text}>{props.text}</div>\r\n            <div className={PostStyle.img}><img className={PostStyle.img} alt='' src={props.img}/></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;\r\n","import PostsStyle from './Posts.module.css'\r\nimport Post from './Post.jsx'\r\nimport React from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\n\r\n\r\nconst Posts = (props) => {\r\n    let posts = []\r\n    let id = 0\r\n    for (let post of props.posts) {\r\n        id++\r\n        posts.push(<Post key={id.toString()} img={post.img} text={post.text} id={post.id} />)\r\n    }\r\n    return (\r\n        <div className={PostsStyle.posts}>\r\n            {props.isAuth && <div className={PostsStyle.header}>\r\n                <PostsForm publishPost={props.publishPost} id={props.id}/>\r\n            </div>}\r\n            {posts}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst PostsForm = (props) => {\r\n    return (\r\n        <Formik initialValues={{ newPostText: '' }}\r\n            onSubmit={(values, { resetForm  }) => {\r\n                props.publishPost(props.id, values.newPostText)\r\n                resetForm ();\r\n            }}\r\n        >\r\n            {() => (\r\n                <Form >\r\n                     <Field name='newPostText' placeholder={'Что нового?'} className={PostsStyle.input} />\r\n                     <button type='submit' >Опубликовать</button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default Posts;","import ProfileInfoStyle from './ProfileInfo.module.css'\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status] )\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <>\r\n            { ((props.changeStatus !== undefined) || !props.isAuth) ?\r\n                <div className={ProfileInfoStyle.statusDiv}>\r\n                    <div>\r\n                        <span className={ProfileInfoStyle.status}>{status ? 'Cтатус: ' + status : 'Статус отсутствует'}</span>\r\n                    </div>\r\n                </div>\r\n                 :\r\n                <div className={ProfileInfoStyle.statusDiv}>\r\n                    {editMode ?\r\n                        <div>\r\n                            <input className={ProfileInfoStyle.input} onChange={onStatusChange} autoFocus={true} onBlur={deActivateEditMode} value={status} type=\"text\" />\r\n                        </div>\r\n                        :\r\n                        <div>\r\n                        <div>\r\n                            <span className={ProfileInfoStyle.status} onClick={activateEditMode}>{ 'Cтатус: ' + status || 'Введите ваш статус'}</span>\r\n                        </div>\r\n                        <label className={ProfileInfoStyle.label} >Для редактирования нажмите на статус</label>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks","import profileStyle from './Profile.module.css';\r\nimport ProfileCard from './ProfileCard/ProfileCard.jsx'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo.jsx'\r\nimport Friends from './Friends/Friends.jsx'\r\nimport Subscriptions from './Subscriptions/Subscriptions.jsx'\r\nimport Photos from './Photos/Photos.jsx'\r\nimport Posts from './Posts/Posts';\r\nimport React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport ProfileStatusWithHooks from './ProfileInfo/ProfileStatusWithHooks';\r\n\r\nconst Profile = ({saveProfile, users, publishPost, profile, isAuth, status, changeStatus, \r\n    updateStatus, isMyProfile, loadPhoto, profileUpdateError, preloaderIsActive}) => {\r\n    if (users.length > 0) {\r\n        let Arrusers = users.map((user, id) => <Route key={id.toString()} path={`/profile/${user.id}`} render={() =>\r\n            <div className={profileStyle.profile}>\r\n                <ProfileCard img={user.profileCard.img} isMyProfile={isMyProfile} />\r\n                <ProfileInfo thisIsARealUser={false} profileInfo={user.profileInfo} />\r\n                <Friends friends={user.friends} />\r\n                <Subscriptions subscriptions={user.subscriptions} />\r\n                <Photos photos={user.photos} />\r\n                <Posts publishPost={publishPost}\r\n                    posts={user.posts.posts}\r\n                    id={user.id}\r\n                    isAuth={isAuth}/>\r\n            </div>} />)\r\n        return (\r\n            <div>\r\n                {Arrusers}\r\n            </div>\r\n        )\r\n    }\r\n    if (profile) {\r\n        \r\n        return (\r\n            <div className={profileStyle.profileRealUser}>\r\n                <ProfileCard img={profile.photos.large} loadPhoto={loadPhoto} isAuth={isAuth} isMyProfile={isMyProfile} />\r\n                <ProfileStatusWithHooks isAuth={isAuth} status={status} changeStatus={changeStatus} updateStatus={updateStatus}/>\r\n                <ProfileInfo profileUpdateError={profileUpdateError} saveProfile={saveProfile}profile={profile}\r\n                 thisIsARealUser={true} isMyProfile={isMyProfile}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile;","import { profileAPI } from '../api/api';\r\nimport { toggleIsFetching } from '../Redux/usersapi-reducer'\r\n\r\nimport kosmokot from './../images/kosmokot.jpg'\r\nimport ryjik from './../images/ryjik.jpg'\r\nimport vasiliy from './../images/vasiliy.jpg'\r\nimport kisa from './../images/kisa.jpg'\r\nimport cherniy from './../images/cherniy.jpg'\r\nimport barsik from './../images/barsik.jpg'\r\nimport matroskin from './../images/matroskin.jpg'\r\n\r\n\r\nconst PUBLISH_POST = 'content/PUBLISH-POST'\r\nconst SET_USER_PROFILE = 'content/SET_USER_PROFILE'\r\nconst SET_STATUS = 'content/SET_STATUS'\r\nconst SAVE_PHOTO_SUCCESS = 'content/SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n    users: [\r\n        {\r\n            id: 1.1,\r\n            profileCard: {\r\n                img: kosmokot,\r\n            },\r\n            profileInfo: {\r\n                name: 'Космокот',\r\n                date: '12.11.2016',\r\n                city: 'Москва',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n            friends: {\r\n                friends: [\r\n                    { id: 1.2, name: 'Рыжик', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', img: kisa },\r\n                    { id: 1.5, name: 'Черный', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', img: matroskin },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.2, name: 'Рыжик', text: 'Текст', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', text: 'Текст', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', text: 'Текст', img: kisa },\r\n                    { id: 1.5, name: 'Черный', text: 'Текст', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', text: 'Текст', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', text: 'Текст', img: matroskin },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n        {\r\n            id: 1.2,\r\n            profileCard: {\r\n                img: ryjik,\r\n            },\r\n            profileInfo: {\r\n                name: 'Рыжик',\r\n                date: '4.7.2015',\r\n                city: 'Санкт-Петербург',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n             friends: {\r\n                friends: [\r\n                    { id: 1.1, name: 'Космокот', img: kosmokot },\r\n                    { id: 1.3, name: 'Василий', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', img: kisa },\r\n                    { id: 1.5, name: 'Черный', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', img: matroskin },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.1, name: 'Космокот', text: 'Текст', img: kosmokot },\r\n                    { id: 1.3, name: 'Василий', text: 'Текст', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', text: 'Текст', img: kisa },\r\n                    { id: 1.5, name: 'Черный', text: 'Текст', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', text: 'Текст', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', text: 'Текст', img: matroskin },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n        {\r\n            id: 1.3,\r\n            profileCard: {\r\n                img: vasiliy,\r\n            },\r\n            profileInfo: {\r\n                name: 'Василий',\r\n                date: '5.12.2018',\r\n                city: 'Казань',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n             friends: {\r\n                friends: [\r\n                    { id: 1.2, name: 'Рыжик', img: ryjik },\r\n                    { id: 1.1, name: 'Космокот', img: kosmokot },\r\n                    { id: 1.4, name: 'Киса', img: kisa },\r\n                    { id: 1.5, name: 'Черный', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', img: matroskin },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.2, name: 'Рыжик', text: 'Текст', img: ryjik },\r\n                    { id: 1.1, name: 'Космокот', text: 'Текст', img: kosmokot },\r\n                    { id: 1.4, name: 'Киса', text: 'Текст', img: kisa },\r\n                    { id: 1.5, name: 'Черный', text: 'Текст', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', text: 'Текст', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', text: 'Текст', img: matroskin },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n        {\r\n            id: 1.4,\r\n            profileCard: {\r\n                img: kisa,\r\n            },\r\n            profileInfo: {\r\n                name: 'Киса',\r\n                date: '12.12.2017',\r\n                city: 'Новосибирск',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n             friends: {\r\n                friends: [\r\n                    { id: 1.2, name: 'Рыжик', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', img: vasiliy },\r\n                    { id: 1.1, name: 'Космокот', img: kosmokot },\r\n                    { id: 1.5, name: 'Черный', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', img: matroskin },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.2, name: 'Рыжик', text: 'Текст', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', text: 'Текст', img: vasiliy },\r\n                    { id: 1.1, name: 'Космокот', text: 'Текст', img: kosmokot },\r\n                    { id: 1.5, name: 'Черный', text: 'Текст', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', text: 'Текст', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', text: 'Текст', img: matroskin },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n        {\r\n            id: 1.5,\r\n            profileCard: {\r\n                img: cherniy,\r\n            },\r\n            profileInfo: {\r\n                name: 'Черный',\r\n                date: '7.11.2012',\r\n                city: 'Самара',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n             friends: {\r\n                friends: [\r\n                    { id: 1.2, name: 'Рыжик', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', img: kisa },\r\n                    { id: 1.1, name: 'Космокот', img: kosmokot },\r\n                    { id: 1.6, name: 'Барсик', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', img: matroskin },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.2, name: 'Рыжик', text: 'Текст', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', text: 'Текст', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', text: 'Текст', img: kisa },\r\n                    { id: 1.1, name: 'Космокот', text: 'Текст', img: kosmokot },\r\n                    { id: 1.6, name: 'Барсик', text: 'Текст', img: barsik },\r\n                    { id: 1.7, name: 'Матроскин', text: 'Текст', img: matroskin },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n        {\r\n            id: 1.6,\r\n            profileCard: {\r\n                img: barsik,\r\n            },\r\n            profileInfo: {\r\n                name: 'Барсик',\r\n                date: '23.1.2015',\r\n                city: 'Сыктывкар',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n             friends: {\r\n                friends: [\r\n                    { id: 1.2, name: 'Рыжик', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', img: kisa },\r\n                    { id: 1.5, name: 'Черный', img: cherniy },\r\n                    { id: 1.1, name: 'Космокот', img: kosmokot },\r\n                    { id: 1.7, name: 'Матроскин', img: matroskin },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.2, name: 'Рыжик', text: 'Текст', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', text: 'Текст', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', text: 'Текст', img: kisa },\r\n                    { id: 1.5, name: 'Черный', text: 'Текст', img: cherniy },\r\n                    { id: 1.1, name: 'Космокот', text: 'Текст', img: kosmokot },\r\n                    { id: 1.7, name: 'Матроскин', text: 'Текст', img: matroskin },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n        {\r\n            id: 1.7,\r\n            profileCard: {\r\n                img: matroskin,\r\n            },\r\n            profileInfo: {\r\n                name: 'Матроскин',\r\n                date: '26.5.2013',\r\n                city: 'Краснодар',\r\n            },\r\n            photos: {\r\n                images: ['https://avatars.mds.yandex.net/get-zen_doc/1545908/pub_5ce2b140465c3000b3720afb_5ce2b565baeb6600affc7c7f/scale_1200',\r\n                    'https://www.zastavki.com/pictures/1920x1200/2009/Space_The_launch_017978_.jpg',\r\n                    'https://www.yenicaggazetesi.com.tr/d/other/yenicag-delik.jpg',\r\n                    'https://www.picturesensations.com/wp-content/uploads/2016/11/M055-w.jpg',\r\n                    'https://yandex-images.naydex.net/ACy973s70/c28d55Vin1kP/nqH6iPCEstYPJmSAM0aNqUgKCrkKSoWhW58MtlP-AP86Q4ARKd-fbIM5F7kakAkGw_dkyh4KBNhSaiEA1vtde94ADmjUxObWXkLTlbNCqQiIP3_sC9twET_--cY3urF6f8U1JSjbWmnGH9e5urH79GHGg7mp6WYKMJiV5fM-WF8v5C8rEhCip4wVYsHT1ZgYatrba_tcBkH7uL9FE5gjf1ohcLJ4aQi5FJ8Snl0X2KUQlYA5enj3yyBKBmZg_pq_2Ve-mICkYQYtNtAi0jWYO-jr-nl6n-QiGHnMtoEYU_86k0Ng-dnaCgS8wkxdZZsGAreiCLp69goii_bE805JnehlPPhyh5Mk_ZdzMkEVCNnoS7haCs5V8fgK_JWS6bI8y9FjwXk7qpnknXOO7zablxMmwdpJyWS6MvqHFsPOqv0KZy4bQfaztk51sLHRhejp6ApYmGiMBQMoOd4UQBqzzjnBcMDKuFl6ly4wzZ2H2HQBpeFJa8qm-PLKJWXwz2ssemXdOdNUY1SO1fBR8DcaSEu7uVnq7sXzGOpfhWHJUDwLkDBg2kj4aUftMO3fVMlFQuaBOGvZdGvQWrVncIz4n4g3vgpBpIKkjRRhwGO023nIOWo7q71lsTuqf9SCCnEdu-FT83r5-Fs3bFAsLWX6Z7D08Ok6aDZK80ildNLdSo65dkxa0SWztk8ls-BTlagoaJvKG7kPxOAruO1lcctCfdhyEJKI2vrJ9K0QXR4WGrfBlsOIG0glmLJY5DdjTSquKhYfS0Cn4cacRgABscQ6emloGblJjtZAeGuuZwG6kE1b0KDQubhb2ST8cl-d1tjXcVZiCApbVevBWub24e16fJh3TorCpLG0b6VDQHE0izgpKPo4Gk10wGtK_0TgWXBNeyFzUTuJ2rsmjhIvruV6pwNnoUoIKqWI0RlFNVCvetw5R05ak4WyBo0EIBIAdzlq-mrLi6l8NbN7yU-HA',\r\n                ]\r\n            },\r\n             friends: {\r\n                friends: [\r\n                    { id: 1.2, name: 'Рыжик', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', img: kisa },\r\n                    { id: 1.5, name: 'Черный', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', img: barsik },\r\n                    { id: 1.1, name: 'Космокот', img: kosmokot },\r\n                ]\r\n            },\r\n            posts: {\r\n                posts: [\r\n                    { id: 1.2, name: 'Рыжик', text: 'Текст', img: ryjik },\r\n                    { id: 1.3, name: 'Василий', text: 'Текст', img: vasiliy },\r\n                    { id: 1.4, name: 'Киса', text: 'Текст', img: kisa },\r\n                    { id: 1.5, name: 'Черный', text: 'Текст', img: cherniy },\r\n                    { id: 1.6, name: 'Барсик', text: 'Текст', img: barsik },\r\n                    { id: 1.1, name: 'Космокот', text: 'Текст', img: kosmokot },\r\n                ]\r\n            },\r\n            subscriptions: {\r\n                subscriptions: ['']\r\n            },\r\n        },\r\n    ],\r\n    profile: {},\r\n    status: '',\r\n}\r\n\r\nconst contentReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case PUBLISH_POST: {\r\n            let idintificator = (Math.round((action.id - 1) * 10)) - 1\r\n            let stateCopy = { ...state }\r\n            stateCopy.users = [...state.users]\r\n            stateCopy.users[idintificator] = { ...state.users[idintificator] }\r\n            stateCopy.users[idintificator].posts = { ...state.users[idintificator].posts }\r\n            stateCopy.users[idintificator].posts.posts = [...state.users[idintificator].posts.posts]\r\n            let textMes = action.newPostText\r\n            if (textMes.length) {\r\n                stateCopy.users[idintificator].posts.posts.unshift({\r\n                    text: action.newPostText,\r\n                    img: 'https://social-network.samuraijs.com/activecontent/images/users/14853/user-small.jpg?v=7',\r\n                    name: stateCopy.users[idintificator].profileInfo.name,\r\n                    id: 1.1\r\n                })\r\n                return stateCopy;\r\n            }\r\n            break\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            if (action.profile) {\r\n                let stateCopy = {\r\n                    ...state,\r\n                    users: [],\r\n                    profile: action.profile\r\n                }\r\n                return stateCopy\r\n            } else {\r\n                return {\r\n                    users: [...initialState.users],\r\n                    profile: { ...initialState.profile }\r\n                };\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const publishPost = (id, newPostText) => ({ type: PUBLISH_POST, id, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    if (userId <= 1 || userId >= 2) {\r\n        dispatch(toggleIsFetching())\r\n        setTimeout(async () => {\r\n            let response = await profileAPI.getProfile(userId)\r\n            if (response.status === 200) {\r\n                dispatch(setUserProfile(response.data))\r\n                dispatch(toggleIsFetching())\r\n            }\r\n        }, 500)\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    if (response.status === 200) {\r\n        dispatch(setStatus(response.data))\r\n    }\r\n}\r\n\r\nexport const loadPhoto = (photos) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(photos)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\nexport default contentReducer;","import Profile from './Profile';\r\nimport React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { setUserProfile, publishPost, getUserProfile, updateStatus, getStatus, loadPhoto, saveProfile} from '../../../Redux/content-reducer'\r\nimport Preloader from '../Users/Preloader';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n \r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) userId = this.props.auth.userId\r\n        if (userId) {\r\n            this.props.getUserProfile(userId)\r\n            if(Math.floor(+userId) === +userId) {\r\n                this.props.getStatus(userId)\r\n            }\r\n        } else {\r\n            this.props.history.push('/login')\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setUserProfile()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Preloader isFetching={this.props.usersapi.isFetching} />\r\n                <div style={this.props.usersapi.isFetching ? { display: 'none'} : {}}  >\r\n                    <Profile {...this.props.content} publishPost={this.props.publishPost} changeStatus={this.props.match.params.userId}\r\n                    isAuth={this.props.auth.isAuth} status={this.props.content.status} updateStatus={this.props.updateStatus}\r\n                    isMyProfile={this.props.auth.userId === this.props.content.profile.userId} loadPhoto={this.props.loadPhoto}\r\n                    saveProfile={this.props.saveProfile}/> \r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        ...state,\r\n    }\r\n}\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, { setUserProfile, publishPost, getUserProfile, getStatus, updateStatus, loadPhoto, saveProfile }),\r\n    withRouter)(ProfileContainer)\r\n","import React from \"react\";\r\nimport Preloader from \"../AppWrapper/Content/Users/Preloader\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader isFetching={true}/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}\r\n\r\nexport default withSuspense","import { Route } from 'react-router-dom';\r\nimport ContentStyle from './Content.module.css';\r\nimport MessagesContainer from './Messages/MessagesContainer';\r\nimport React from 'react';\r\nimport UsersContainer from './Users/UsersContainer';\r\nimport UsersAPIContainer from './Users/UsersAPIContainer'\r\nimport ProfileContainer from './Profile/ProfileContainer';\r\nimport withSuspense from '../../hoc/withSuspense';\r\n\r\nconst Login = React.lazy(() => import('./Login/Login'));\r\nconst News = React.lazy(() => import('./News/News'));\r\n\r\nconst Content = () => {    \r\n    return (\r\n        <div className={ContentStyle.content}>\r\n            <Route exact path='/' render={() => <ProfileContainer/>}/>\r\n            <Route path='/profile/:userId' render={ () => <ProfileContainer/>}/>\r\n            <Route exact path='/profile' render={ () => <ProfileContainer/>}/>\r\n            <Route path='/news' render={withSuspense (News)} />\r\n            <Route path='/messages' render={ () => <MessagesContainer />}/>\r\n            <Route exact path='/users' render={ () => <UsersContainer />}/>\r\n            <Route exact path='/usersapi' render={ () => <UsersAPIContainer />}/>\r\n            <Route exact path='/login' render={withSuspense (Login)}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Content;","import NavbarBlockStyle from './NavbarBlock.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\n\r\nconst NavbarBlock = (props) => {\r\n    return (\r\n        <div className={NavbarBlockStyle}>\r\n            <NavLink to={props.to} activeClassName={NavbarBlockStyle.active}>\r\n                <div className={NavbarBlockStyle.div}>\r\n                    {props.value}\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavbarBlock;","import navbarStyle from './Navbar.module.css';\r\nimport NavbarBlock from './NavbarBlock.jsx';\r\nimport React from 'react';\r\n\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <nav className={navbarStyle.nav}>\r\n            <NavbarBlock value='Моя страница' to='/profile'/>\r\n            <NavbarBlock value='Новости' to='/news'/>\r\n            <NavbarBlock value='Мессенджер' to='/messages'/>\r\n            <NavbarBlock value='Пользователи' to='/users'/>\r\n            <NavbarBlock value='Пользователи API' to='/usersapi'/>\r\n\r\n        </nav>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBar;","import Wrapper from './AppWrapper.module.css';\r\nimport Content from '../AppWrapper/Content/Content';\r\nimport NavBar from '../AppWrapper/Navbar/Navbar.jsx';\r\nimport React from 'react';\r\n\r\nconst AppWrapper = (props) => {\r\n   return (\r\n      <div className={Wrapper.appWrapper}>\r\n         <NavBar />\r\n         <Content />\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default AppWrapper;","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    promise.then( () => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\n\r\nexport default appReducer;","import kosmokot from './../images/kosmokot.jpg'\r\nimport ryjik from './../images/ryjik.jpg'\r\nimport vasiliy from './../images/vasiliy.jpg'\r\nimport kisa from './../images/kisa.jpg'\r\nimport cherniy from './../images/cherniy.jpg'\r\nimport barsik from './../images/barsik.jpg'\r\nimport matroskin from './../images/matroskin.jpg'\r\n\r\nlet initialState = {\r\n    users: [\r\n        { name: 'Космокот', img: kosmokot, id: 1.1 },\r\n        { name: 'Рыжик', img: ryjik, id: 1.2 },\r\n        { name: 'Василий', img: vasiliy, id: 1.3},\r\n        { name: 'Киса', img: kisa, id: 1.4},\r\n        { name: 'Черный', img: cherniy, id: 1.5 },\r\n        { name: 'Барсик', img: barsik, id: 1.6},\r\n        { name: 'Матроскин', img: matroskin, id: 1.7},\r\n    ]\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default usersReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport dialogsReducer from './messages-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport contentReducer from './content-reducer'\r\nimport usersapiReducer from './usersapi-reducer'\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n        messages: dialogsReducer,\r\n        users: usersReducer,\r\n        content: contentReducer,\r\n        usersapi: usersapiReducer,\r\n        auth: authReducer,\r\n        app: appReducer,\r\n})\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware))); \r\n\r\nwindow.store = store\r\n\r\nexport default store","import styles from './App.module.css';\nimport HeaderContainer from './Header/HeaderContainer';\nimport AppWrapper from './AppWrapper/AppWrapper';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './Redux/app-reducer';\nimport Preloader from './AppWrapper/Content/Users/Preloader';\nimport { withRouter, HashRouter  } from 'react-router-dom';\nimport { compose } from 'redux';\nimport store from './Redux/redux-store'\nimport { Provider } from 'react-redux';\n\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (this.props.initialized) {\n      return (\n        <div className={styles.div}>\n          <HeaderContainer />\n          <AppWrapper />\n        </div>\n      )\n    }\n    return <Preloader isFetching={true} />\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp }))(App)\n\nconst MainApp = (props) => {\n  return <HashRouter>\n        <Provider store={store}>\n            <React.StrictMode>\n                <AppContainer />\n            </React.StrictMode>\n        </Provider>\n    </HashRouter>\n}\n\nexport default MainApp","import reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport React from 'react';\nimport MainApp from './App';\n\n\nReactDOM.render(\n    <MainApp/>,\n    document.getElementById('root')\n);\n\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__3_PJE\",\"img\":\"User_img__Nx2aA\",\"name\":\"User_name__1g1Ho\",\"div\":\"User_div__u6met\",\"button\":\"User_button__12X5N\",\"attention\":\"User_attention__1bffi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Mess_div__3Lb_u\",\"myMes\":\"Mess_myMes__WKRyG\",\"img\":\"Mess_img__P5IQd\",\"friendMes\":\"Mess_friendMes__PMz1u\",\"text\":\"Mess_text__1W0Ja\",\"time\":\"Mess_time__2MUwS\",\"messages\":\"Mess_messages__2RwfH\",\"verticalDiv\":\"Mess_verticalDiv__2kvvB\",\"wrapper\":\"Mess_wrapper__2WXt1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__a5ZUz\",\"div\":\"ProfileInfo_div__3BxQo\",\"name\":\"ProfileInfo_name__yY7K2\",\"status\":\"ProfileInfo_status__1Mc1Z\",\"input\":\"ProfileInfo_input__2VIYH\",\"statusDiv\":\"ProfileInfo_statusDiv__2Ne4n\",\"info\":\"ProfileInfo_info__wSzrj\",\"infoError\":\"ProfileInfo_infoError__1crHU\",\"checkbox\":\"ProfileInfo_checkbox__1ZAs8\",\"checkboxdiv\":\"ProfileInfo_checkboxdiv__2Hrh0\",\"label\":\"ProfileInfo_label__vdCRr\",\"button\":\"ProfileInfo_button__3JrCw\",\"contacts\":\"ProfileInfo_contacts__1YMcA\",\"infoLabel\":\"ProfileInfo_infoLabel__GIeNK\",\"error\":\"ProfileInfo_error__34KbK\"};","import { authAPI, securityAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst TOGGLE_INCORRECT = 'auth/TOGGLE_INCORRECT'\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL'\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    IncorrectEmailOrPassword: false,\r\n    errorMessages: '',\r\n    captchaUrl: ''\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                errorMessages: '',\r\n                captchaUrl: '',\r\n            }\r\n        case TOGGLE_INCORRECT:\r\n            return {\r\n                ...state,\r\n                IncorrectEmailOrPassword: action.toggle,\r\n                errorMessages: action.messages\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: { userId, email, login, isAuth } })\r\nconst toggleIncorrect = (toggle, messages) => ({ type: TOGGLE_INCORRECT, toggle, messages })\r\nconst getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL, captchaUrl })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (login, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(login, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n        dispatch(toggleIncorrect(false))\r\n    } else {\r\n        debugger\r\n        if(response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        dispatch(toggleIncorrect(true, response.data.messages ))\r\n    }\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VWLT\",\"headerContent\":\"Header_headerContent__9rDtC\",\"loginBlock\":\"Header_loginBlock__1X0Dp\",\"button\":\"Header_button__3mXJG\",\"login\":\"Header_login__1QuED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Dialog_div__mF_Xq\",\"img\":\"Dialog_img__1ChEj\",\"name\":\"Dialog_name__D0MjZ\",\"text\":\"Dialog_text__2FWF-\",\"time\":\"Dialog_time__OIhim\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileCard\":\"ProfileCard_profileCard__oBNq9\",\"input\":\"ProfileCard_input__1Dq-B\",\"profileImg\":\"ProfileCard_profileImg__m7ZON\",\"img\":\"ProfileCard_img__3qh30\",\"div\":\"ProfileCard_div__nLq6B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Photos_div__2u-Lh\",\"photos\":\"Photos_photos__3hjzE\",\"photosBar\":\"Photos_photosBar__2zbZz\",\"photo\":\"Photos_photo__3Ye6R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__TrxM7\",\"img\":\"Post_img__31CZH\",\"text\":\"Post_text__1X3FW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Users_loader__3LJjo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__23yCV\",\"friendsA\":\"Friends_friendsA__1PjOH\",\"div\":\"Friends_div__vYbWu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Posts_header__21lb6\",\"posts\":\"Posts_posts__1-BHC\",\"input\":\"Posts_input__2UVa8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"NavbarBlock_div__1q6cc\",\"active\":\"NavbarBlock_active__2CWeI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileRealUser\":\"Profile_profileRealUser__LPxli\",\"profile\":\"Profile_profile__2itRa\",\"div\":\"Profile_div__3gEmy\",\"None\":\"Profile_None__799XB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"div\":\"Subscriptions_div__2e_54\",\"subscriptions\":\"Subscriptions_subscriptions__2QQ5g\"};"],"sourceRoot":""}